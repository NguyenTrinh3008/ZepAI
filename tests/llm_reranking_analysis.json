{
  "timestamp": "2025-10-09 16:54:43",
  "project_id": "innocody_test_project",
  "query_categories": {
    "specific_technical": [
      "async await database performance optimization",
      "SQL injection security vulnerability fix",
      "React component state management refactoring",
      "Python async def function implementation"
    ],
    "vague_general": [
      "performance issues",
      "database problems",
      "code improvements",
      "bug fixes"
    ],
    "coding_tasks": [
      "implement user authentication",
      "optimize database queries",
      "refactor legacy code",
      "add error handling"
    ],
    "mixed_keywords": [
      "async database refactor performance",
      "security vulnerability authentication",
      "optimization cache memory",
      "testing deployment monitoring"
    ],
    "diversity_queries": [
      "show me different authentication methods",
      "various caching strategies for performance",
      "compare different database optimization approaches"
    ],
    "precision_queries": [
      "generate exact JWT token validation code",
      "implement precise error handling for critical functions"
    ]
  },
  "results": {
    "specific_technical": {
      "async await database performance optimization": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "database/users.py was refactored so get_user_data() uses async/await",
            "summary": "database/users.py was refactored so get_user_data() uses async/await",
            "name": "MODIFIED_TO_USE",
            "id": "4a462c6b-0a7c-4129-ad7a-24c72c607382",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "database/users.py",
                "name": "Context: database/users.py",
                "usefulness_score": null,
                "uuid": "af8db8d1-27d8-4d2f-ab6b-30d2accde10e",
                "type": "ContextFile"
              },
              {
                "file_path": "database/connection.py",
                "name": "Context: database/connection.py",
                "usefulness_score": null,
                "uuid": "f6feea13-5bf0-4194-82b3-bbcb089d9385",
                "type": "ContextFile"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "4bc0e06b-86f6-41ef-9055-f1e6fc3771a0",
                "type": "ContextFile"
              },
              {
                "file_path": "services/auth.py",
                "name": "Context: services/auth.py",
                "usefulness_score": null,
                "uuid": "1677cce4-2957-426a-a8d1-8ca62ef09e5b",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_database.py",
                "name": "Context: tests/test_database.py",
                "usefulness_score": null,
                "uuid": "f9653639-118b-439a-8d42-8d9a38e6b36d",
                "type": "ContextFile"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "5beaa8e5-00a7-4fea-9050-005353611aa4",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "bbb31540-e7e4-42b9-b790-2483ffe4b85c",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "79a49cb9-4c88-4d91-976c-b9463427b6eb",
                "type": "ToolCall"
              },
              {
                "tool_name": "grep_search",
                "name": "Tool: grep_search",
                "uuid": "b981a3d1-797a-424a-884f-55c14fded9d4",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "209509c1-34c8-498f-b52e-a3c8724ad0bd",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "48169733-a389-41f8-a46c-7f40d127b98c",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "get_user_data has await added to all DB queries using asyncpg",
            "summary": "get_user_data has await added to all DB queries using asyncpg",
            "name": "AWAIT_USED_IN_QUERIES",
            "id": "0d14fea8-8d0a-418e-ad71-8831857ca7ab",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "summary": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "name": "REDUCED_QUERIES_TO",
            "id": "2bcb04b8-c3ab-4315-b4fa-0537a008318f",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "get_user_data() callers were updated to call await get_user_data(user_id)",
            "summary": "get_user_data() callers were updated to call await get_user_data(user_id)",
            "name": "CALLERS_UPDATED",
            "id": "ee304583-71b4-4f76-bf58-ec39dfec947c",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 3.015293598175049,
        "result_count": 4
      },
      "SQL injection security vulnerability fix": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "Fix added default preferences initialization and migration script",
            "summary": "Fix added default preferences initialization and migration script",
            "name": "FIX_APPLIED_IN_FILE",
            "id": "eded1de9-2033-48b8-aff3-e7d2081b5e85",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "api/profile.py",
            "change_type": "fixed",
            "severity": "high",
            "lines_added": 5,
            "lines_removed": 2,
            "imports": [
              "typing"
            ],
            "change_summary": "Added defensive programming for missing user_preferences with default fallback",
            "language": "python",
            "diff_summary": "Added defensive programming for missing user_preferences with default fallback",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "payment/processor.py was reviewed using security_scan",
            "summary": "payment/processor.py was reviewed using security_scan",
            "name": "REVIEWED_BY_TOOL",
            "id": "457bec90-040c-475d-9180-d7070f4316b0",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "File validation middleware includes Virus scanning (ClamAV integration)",
            "summary": "File validation middleware includes Virus scanning (ClamAV integration)",
            "name": "USES_SECURITY_FEATURE",
            "id": "8677e067-5647-4f4c-981a-ccb9eb902d65",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "get_user_data has await added to all DB queries using asyncpg",
            "summary": "get_user_data has await added to all DB queries using asyncpg",
            "name": "AWAIT_USED_IN_QUERIES",
            "id": "0d14fea8-8d0a-418e-ad71-8831857ca7ab",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 2.36466646194458,
        "result_count": 4
      },
      "React component state management refactoring": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "Response time improved from 450ms to 85ms after refactor",
            "summary": "Response time improved from 450ms to 85ms after refactor",
            "name": "IMPROVED_PERFORMANCE",
            "id": "4a462c6b-0a7c-4129-ad7a-24c72c607382",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "database/users.py",
                "name": "Context: database/users.py",
                "usefulness_score": null,
                "uuid": "af8db8d1-27d8-4d2f-ab6b-30d2accde10e",
                "type": "ContextFile"
              },
              {
                "file_path": "database/connection.py",
                "name": "Context: database/connection.py",
                "usefulness_score": null,
                "uuid": "f6feea13-5bf0-4194-82b3-bbcb089d9385",
                "type": "ContextFile"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "4bc0e06b-86f6-41ef-9055-f1e6fc3771a0",
                "type": "ContextFile"
              },
              {
                "file_path": "services/auth.py",
                "name": "Context: services/auth.py",
                "usefulness_score": null,
                "uuid": "1677cce4-2957-426a-a8d1-8ca62ef09e5b",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_database.py",
                "name": "Context: tests/test_database.py",
                "usefulness_score": null,
                "uuid": "f9653639-118b-439a-8d42-8d9a38e6b36d",
                "type": "ContextFile"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "5beaa8e5-00a7-4fea-9050-005353611aa4",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "bbb31540-e7e4-42b9-b790-2483ffe4b85c",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "79a49cb9-4c88-4d91-976c-b9463427b6eb",
                "type": "ToolCall"
              },
              {
                "tool_name": "grep_search",
                "name": "Tool: grep_search",
                "uuid": "b981a3d1-797a-424a-884f-55c14fded9d4",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "209509c1-34c8-498f-b52e-a3c8724ad0bd",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "48169733-a389-41f8-a46c-7f40d127b98c",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Dashboard memory usage decreased from 450MB to 120MB after optimizations.",
            "summary": "Dashboard memory usage decreased from 450MB to 120MB after optimizations.",
            "name": "REDUCED_MEMORY_USAGE_TO",
            "id": "f940423d-ef28-418c-9fac-e82fe20c6166",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "api/dashboard.py",
                "name": "Context: api/dashboard.py",
                "usefulness_score": null,
                "uuid": "cdc96ae2-31af-4e7d-835e-258b3cc4c396",
                "type": "ContextFile"
              },
              {
                "file_path": "database/queries.py",
                "name": "Context: database/queries.py",
                "usefulness_score": null,
                "uuid": "bc0a9362-759b-4304-904d-78ffe0342897",
                "type": "ContextFile"
              },
              {
                "file_path": "services/cache.py",
                "name": "Context: services/cache.py",
                "usefulness_score": null,
                "uuid": "fcd8e1ad-3cb7-4355-914d-3620290073d1",
                "type": "ContextFile"
              },
              {
                "file_path": "models/project.py",
                "name": "Context: models/project.py",
                "usefulness_score": null,
                "uuid": "e0d19b77-95ac-434c-8045-947c1694dc23",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_performance.py",
                "name": "Context: tests/test_performance.py",
                "usefulness_score": null,
                "uuid": "135db01d-b3c3-4757-a89b-252752b55e71",
                "type": "ContextFile"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "3c09eb02-dfff-4153-a11e-e59d32b7dacc",
                "type": "ToolCall"
              },
              {
                "tool_name": "profile_code",
                "name": "Tool: profile_code",
                "uuid": "5a85f694-7f04-421b-a2cc-da59fb45e0e9",
                "type": "ToolCall"
              },
              {
                "tool_name": "analyze_queries",
                "name": "Tool: analyze_queries",
                "uuid": "2a13df51-c7c1-48db-8898-6754ddb3e973",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "cb5142d3-663a-4c04-809d-88443aff2ca5",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "aed3e6f5-c6b2-427e-902c-0ffb7c4c92b3",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_migration",
                "name": "Tool: run_migration",
                "uuid": "a0966e23-174d-490d-a617-dad2116aaf77",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "da96b0d3-f3c1-457c-9b17-1c4cce0a0ab5",
                "type": "ToolCall"
              },
              {
                "tool_name": "load_test",
                "name": "Tool: load_test",
                "uuid": "7c1776d8-72ff-477a-ad25-d336a254b375",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "api/dashboard endpoint response time improved from 9.5s to 350ms after optimizations.",
            "summary": "api/dashboard endpoint response time improved from 9.5s to 350ms after optimizations.",
            "name": "IMPROVED_PERFORMANCE_TO",
            "id": "85234077-01ed-4242-94b0-152291a5e94a",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "e4f90ec4-dd8b-42ef-a470-0af950315385",
                "type": "ContextFile"
              },
              {
                "file_path": "services/storage.py",
                "name": "Context: services/storage.py",
                "usefulness_score": null,
                "uuid": "cbaa7d8a-7530-4e83-9fab-ec339ebb1399",
                "type": "ContextFile"
              },
              {
                "file_path": "middleware/validation.py",
                "name": "Context: middleware/validation.py",
                "usefulness_score": null,
                "uuid": "6991be02-c769-4319-8a7d-8445964d5d1c",
                "type": "ContextFile"
              },
              {
                "file_path": "config/settings.py",
                "name": "Context: config/settings.py",
                "usefulness_score": null,
                "uuid": "cd68db1b-1493-43ac-8754-7ef2385235d0",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_uploads.py",
                "name": "Context: tests/test_uploads.py",
                "usefulness_score": null,
                "uuid": "2210fece-7a33-40e5-b5bb-7126a3718229",
                "type": "ContextFile"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "392a6274-788f-4065-9478-80f3ee01cf4d",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "ed56f2e2-d5e7-4b1c-adfd-bce35010b092",
                "type": "ToolCall"
              },
              {
                "tool_name": "create_file",
                "name": "Tool: create_file",
                "uuid": "cf20b6ff-4a01-4ff0-8cc1-ed2018e49f56",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "0b638f21-d468-49e7-bb9c-19fa13e0f0cf",
                "type": "ToolCall"
              },
              {
                "tool_name": "create_file",
                "name": "Tool: create_file",
                "uuid": "8738c091-ef29-4bb0-bf77-8bb9cbec5854",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "dd4cf309-e752-4b42-bce7-eab71007fc3d",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_command",
                "name": "Tool: run_command",
                "uuid": "7c51dd24-bf70-4939-90b8-8808dc0cba0d",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 2.1295502185821533,
        "result_count": 3
      },
      "Python async def function implementation": {
        "strategy": "node_distance",
        "confidence": 1.0,
        "reasoning": "MANDATORY: Specific function keyword 'def' and language 'Python' detected indicating a specific entity type → NODE_DISTANCE",
        "results": [
          {
            "text": "database/users.py was refactored so get_user_data() uses async/await",
            "summary": "database/users.py was refactored so get_user_data() uses async/await",
            "name": "MODIFIED_TO_USE",
            "id": "4a462c6b-0a7c-4129-ad7a-24c72c607382",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "database/users.py",
                "name": "Context: database/users.py",
                "usefulness_score": null,
                "uuid": "af8db8d1-27d8-4d2f-ab6b-30d2accde10e",
                "type": "ContextFile"
              },
              {
                "file_path": "database/connection.py",
                "name": "Context: database/connection.py",
                "usefulness_score": null,
                "uuid": "f6feea13-5bf0-4194-82b3-bbcb089d9385",
                "type": "ContextFile"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "4bc0e06b-86f6-41ef-9055-f1e6fc3771a0",
                "type": "ContextFile"
              },
              {
                "file_path": "services/auth.py",
                "name": "Context: services/auth.py",
                "usefulness_score": null,
                "uuid": "1677cce4-2957-426a-a8d1-8ca62ef09e5b",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_database.py",
                "name": "Context: tests/test_database.py",
                "usefulness_score": null,
                "uuid": "f9653639-118b-439a-8d42-8d9a38e6b36d",
                "type": "ContextFile"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "5beaa8e5-00a7-4fea-9050-005353611aa4",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "bbb31540-e7e4-42b9-b790-2483ffe4b85c",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "79a49cb9-4c88-4d91-976c-b9463427b6eb",
                "type": "ToolCall"
              },
              {
                "tool_name": "grep_search",
                "name": "Tool: grep_search",
                "uuid": "b981a3d1-797a-424a-884f-55c14fded9d4",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "209509c1-34c8-498f-b52e-a3c8724ad0bd",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "48169733-a389-41f8-a46c-7f40d127b98c",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "get_user_data is defined in database/users.py",
            "summary": "get_user_data is defined in database/users.py",
            "name": "FUNCTION",
            "id": "0d14fea8-8d0a-418e-ad71-8831857ca7ab",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "docs/examples/ contains Python client examples for api/auth.py",
            "summary": "docs/examples/ contains Python client examples for api/auth.py",
            "name": "DOCUMENTS_EXAMPLES",
            "id": "c94126b3-41d0-48df-91b5-66718a9cf865",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "docs/openapi/auth.yaml",
            "change_type": "added",
            "severity": "low",
            "lines_added": 342,
            "lines_removed": 0,
            "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "language": "yaml",
            "diff_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "project_id": "innocody_test_project",
            "request_id": "req_docs_api_001",
            "chat_id": "chat_docs_generation",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 204,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "api/auth.py functions have added type hints",
            "summary": "api/auth.py functions have added type hints",
            "name": "ADDED_TO",
            "id": "18025f19-a41d-45a1-9b9c-fc6f7192f37b",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "docs/openapi/auth.yaml",
            "change_type": "added",
            "severity": "low",
            "lines_added": 342,
            "lines_removed": 0,
            "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "language": "yaml",
            "diff_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "project_id": "innocody_test_project",
            "request_id": "req_review_payment_001",
            "chat_id": "chat_review_payment",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 222,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 3,
            "related_nodes": [
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 3.7484865188598633,
        "result_count": 4
      }
    },
    "vague_general": {
      "performance issues": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "Response time improved from 450ms to 85ms after refactor",
            "summary": "Response time improved from 450ms to 85ms after refactor",
            "name": "IMPROVED_PERFORMANCE",
            "id": "4a462c6b-0a7c-4129-ad7a-24c72c607382",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "database/users.py",
                "name": "Context: database/users.py",
                "usefulness_score": null,
                "uuid": "af8db8d1-27d8-4d2f-ab6b-30d2accde10e",
                "type": "ContextFile"
              },
              {
                "file_path": "database/connection.py",
                "name": "Context: database/connection.py",
                "usefulness_score": null,
                "uuid": "f6feea13-5bf0-4194-82b3-bbcb089d9385",
                "type": "ContextFile"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "4bc0e06b-86f6-41ef-9055-f1e6fc3771a0",
                "type": "ContextFile"
              },
              {
                "file_path": "services/auth.py",
                "name": "Context: services/auth.py",
                "usefulness_score": null,
                "uuid": "1677cce4-2957-426a-a8d1-8ca62ef09e5b",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_database.py",
                "name": "Context: tests/test_database.py",
                "usefulness_score": null,
                "uuid": "f9653639-118b-439a-8d42-8d9a38e6b36d",
                "type": "ContextFile"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "5beaa8e5-00a7-4fea-9050-005353611aa4",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "bbb31540-e7e4-42b9-b790-2483ffe4b85c",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "79a49cb9-4c88-4d91-976c-b9463427b6eb",
                "type": "ToolCall"
              },
              {
                "tool_name": "grep_search",
                "name": "Tool: grep_search",
                "uuid": "b981a3d1-797a-424a-884f-55c14fded9d4",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "209509c1-34c8-498f-b52e-a3c8724ad0bd",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "48169733-a389-41f8-a46c-7f40d127b98c",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "api/dashboard endpoint is taking 8-12 seconds to load and Users are complaining.",
            "summary": "api/dashboard endpoint is taking 8-12 seconds to load and Users are complaining.",
            "name": "AFFECTS",
            "id": "85234077-01ed-4242-94b0-152291a5e94a",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "e4f90ec4-dd8b-42ef-a470-0af950315385",
                "type": "ContextFile"
              },
              {
                "file_path": "services/storage.py",
                "name": "Context: services/storage.py",
                "usefulness_score": null,
                "uuid": "cbaa7d8a-7530-4e83-9fab-ec339ebb1399",
                "type": "ContextFile"
              },
              {
                "file_path": "middleware/validation.py",
                "name": "Context: middleware/validation.py",
                "usefulness_score": null,
                "uuid": "6991be02-c769-4319-8a7d-8445964d5d1c",
                "type": "ContextFile"
              },
              {
                "file_path": "config/settings.py",
                "name": "Context: config/settings.py",
                "usefulness_score": null,
                "uuid": "cd68db1b-1493-43ac-8754-7ef2385235d0",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_uploads.py",
                "name": "Context: tests/test_uploads.py",
                "usefulness_score": null,
                "uuid": "2210fece-7a33-40e5-b5bb-7126a3718229",
                "type": "ContextFile"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "392a6274-788f-4065-9478-80f3ee01cf4d",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "ed56f2e2-d5e7-4b1c-adfd-bce35010b092",
                "type": "ToolCall"
              },
              {
                "tool_name": "create_file",
                "name": "Tool: create_file",
                "uuid": "cf20b6ff-4a01-4ff0-8cc1-ed2018e49f56",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "0b638f21-d468-49e7-bb9c-19fa13e0f0cf",
                "type": "ToolCall"
              },
              {
                "tool_name": "create_file",
                "name": "Tool: create_file",
                "uuid": "8738c091-ef29-4bb0-bf77-8bb9cbec5854",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "dd4cf309-e752-4b42-bce7-eab71007fc3d",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_command",
                "name": "Tool: run_command",
                "uuid": "7c51dd24-bf70-4939-90b8-8808dc0cba0d",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Loading 100 projects caused a total of 301 database queries (1 + 300).",
            "summary": "Loading 100 projects caused a total of 301 database queries (1 + 300).",
            "name": "RESULTS_IN",
            "id": "77b5e200-5aea-42e7-9542-dbeff3e61d56",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Dashboard memory usage decreased from 450MB to 120MB after optimizations.",
            "summary": "Dashboard memory usage decreased from 450MB to 120MB after optimizations.",
            "name": "REDUCED_MEMORY_USAGE_TO",
            "id": "f940423d-ef28-418c-9fac-e82fe20c6166",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "api/dashboard.py",
                "name": "Context: api/dashboard.py",
                "usefulness_score": null,
                "uuid": "cdc96ae2-31af-4e7d-835e-258b3cc4c396",
                "type": "ContextFile"
              },
              {
                "file_path": "database/queries.py",
                "name": "Context: database/queries.py",
                "usefulness_score": null,
                "uuid": "bc0a9362-759b-4304-904d-78ffe0342897",
                "type": "ContextFile"
              },
              {
                "file_path": "services/cache.py",
                "name": "Context: services/cache.py",
                "usefulness_score": null,
                "uuid": "fcd8e1ad-3cb7-4355-914d-3620290073d1",
                "type": "ContextFile"
              },
              {
                "file_path": "models/project.py",
                "name": "Context: models/project.py",
                "usefulness_score": null,
                "uuid": "e0d19b77-95ac-434c-8045-947c1694dc23",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_performance.py",
                "name": "Context: tests/test_performance.py",
                "usefulness_score": null,
                "uuid": "135db01d-b3c3-4757-a89b-252752b55e71",
                "type": "ContextFile"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "3c09eb02-dfff-4153-a11e-e59d32b7dacc",
                "type": "ToolCall"
              },
              {
                "tool_name": "profile_code",
                "name": "Tool: profile_code",
                "uuid": "5a85f694-7f04-421b-a2cc-da59fb45e0e9",
                "type": "ToolCall"
              },
              {
                "tool_name": "analyze_queries",
                "name": "Tool: analyze_queries",
                "uuid": "2a13df51-c7c1-48db-8898-6754ddb3e973",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "cb5142d3-663a-4c04-809d-88443aff2ca5",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "aed3e6f5-c6b2-427e-902c-0ffb7c4c92b3",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_migration",
                "name": "Tool: run_migration",
                "uuid": "a0966e23-174d-490d-a617-dad2116aaf77",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "da96b0d3-f3c1-457c-9b17-1c4cce0a0ab5",
                "type": "ToolCall"
              },
              {
                "tool_name": "load_test",
                "name": "Tool: load_test",
                "uuid": "7c1776d8-72ff-477a-ad25-d336a254b375",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 2.489457607269287,
        "result_count": 4
      },
      "database problems": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "database schema indicates user_preferences is nullable",
            "summary": "database schema indicates user_preferences is nullable",
            "name": "SCHEMA_NULLABLE",
            "id": "1b2db3c9-102d-4fb1-86ba-c4d6ec985585",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "api/profile.py",
            "change_type": "fixed",
            "severity": "high",
            "lines_added": 5,
            "lines_removed": 2,
            "imports": [
              "typing"
            ],
            "change_summary": "Added defensive programming for missing user_preferences with default fallback",
            "language": "python",
            "diff_summary": "Added defensive programming for missing user_preferences with default fallback",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "get_user_data is defined in database/users.py",
            "summary": "get_user_data is defined in database/users.py",
            "name": "FUNCTION",
            "id": "0d14fea8-8d0a-418e-ad71-8831857ca7ab",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "database/users.py was updated to use asyncpg",
            "summary": "database/users.py was updated to use asyncpg",
            "name": "ADDED_LIBRARY",
            "id": "4a462c6b-0a7c-4129-ad7a-24c72c607382",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "database/users.py",
                "name": "Context: database/users.py",
                "usefulness_score": null,
                "uuid": "af8db8d1-27d8-4d2f-ab6b-30d2accde10e",
                "type": "ContextFile"
              },
              {
                "file_path": "database/connection.py",
                "name": "Context: database/connection.py",
                "usefulness_score": null,
                "uuid": "f6feea13-5bf0-4194-82b3-bbcb089d9385",
                "type": "ContextFile"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "4bc0e06b-86f6-41ef-9055-f1e6fc3771a0",
                "type": "ContextFile"
              },
              {
                "file_path": "services/auth.py",
                "name": "Context: services/auth.py",
                "usefulness_score": null,
                "uuid": "1677cce4-2957-426a-a8d1-8ca62ef09e5b",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_database.py",
                "name": "Context: tests/test_database.py",
                "usefulness_score": null,
                "uuid": "f9653639-118b-439a-8d42-8d9a38e6b36d",
                "type": "ContextFile"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "5beaa8e5-00a7-4fea-9050-005353611aa4",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "bbb31540-e7e4-42b9-b790-2483ffe4b85c",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "79a49cb9-4c88-4d91-976c-b9463427b6eb",
                "type": "ToolCall"
              },
              {
                "tool_name": "grep_search",
                "name": "Tool: grep_search",
                "uuid": "b981a3d1-797a-424a-884f-55c14fded9d4",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "209509c1-34c8-498f-b52e-a3c8724ad0bd",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "48169733-a389-41f8-a46c-7f40d127b98c",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "tests/test_database.py: All tests passing after changes to database/users.py",
            "summary": "tests/test_database.py: All tests passing after changes to database/users.py",
            "name": "TESTS_STATUS",
            "id": "6343458d-31b2-4b38-b2a0-801872e77ba6",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 2.1060733795166016,
        "result_count": 4
      },
      "code improvements": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "user_data['user_preferences'] accessed in code",
            "summary": "user_data['user_preferences'] accessed in code",
            "name": "ERROR_ACCESS_PATH",
            "id": "0d14fea8-8d0a-418e-ad71-8831857ca7ab",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "File validation middleware includes Magic byte checking",
            "summary": "File validation middleware includes Magic byte checking",
            "name": "USES_SECURITY_FEATURE",
            "id": "8677e067-5647-4f4c-981a-ccb9eb902d65",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Response time improved from 450ms to 85ms after refactor",
            "summary": "Response time improved from 450ms to 85ms after refactor",
            "name": "IMPROVED_PERFORMANCE",
            "id": "4a462c6b-0a7c-4129-ad7a-24c72c607382",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "database/users.py",
                "name": "Context: database/users.py",
                "usefulness_score": null,
                "uuid": "af8db8d1-27d8-4d2f-ab6b-30d2accde10e",
                "type": "ContextFile"
              },
              {
                "file_path": "database/connection.py",
                "name": "Context: database/connection.py",
                "usefulness_score": null,
                "uuid": "f6feea13-5bf0-4194-82b3-bbcb089d9385",
                "type": "ContextFile"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "4bc0e06b-86f6-41ef-9055-f1e6fc3771a0",
                "type": "ContextFile"
              },
              {
                "file_path": "services/auth.py",
                "name": "Context: services/auth.py",
                "usefulness_score": null,
                "uuid": "1677cce4-2957-426a-a8d1-8ca62ef09e5b",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_database.py",
                "name": "Context: tests/test_database.py",
                "usefulness_score": null,
                "uuid": "f9653639-118b-439a-8d42-8d9a38e6b36d",
                "type": "ContextFile"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "5beaa8e5-00a7-4fea-9050-005353611aa4",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "bbb31540-e7e4-42b9-b790-2483ffe4b85c",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "79a49cb9-4c88-4d91-976c-b9463427b6eb",
                "type": "ToolCall"
              },
              {
                "tool_name": "grep_search",
                "name": "Tool: grep_search",
                "uuid": "b981a3d1-797a-424a-884f-55c14fded9d4",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "209509c1-34c8-498f-b52e-a3c8724ad0bd",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "48169733-a389-41f8-a46c-7f40d127b98c",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Created code examples in docs/examples/ for api/auth.py",
            "summary": "Created code examples in docs/examples/ for api/auth.py",
            "name": "EXAMPLES_CREATED",
            "id": "18025f19-a41d-45a1-9b9c-fc6f7192f37b",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "docs/openapi/auth.yaml",
            "change_type": "added",
            "severity": "low",
            "lines_added": 342,
            "lines_removed": 0,
            "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "language": "yaml",
            "diff_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "project_id": "innocody_test_project",
            "request_id": "req_review_payment_001",
            "chat_id": "chat_review_payment",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 222,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 3,
            "related_nodes": [
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 3.1736395359039307,
        "result_count": 4
      },
      "bug fixes": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "Fix added default preferences initialization and migration script",
            "summary": "Fix added default preferences initialization and migration script",
            "name": "FIX_APPLIED_IN_FILE",
            "id": "eded1de9-2033-48b8-aff3-e7d2081b5e85",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "api/profile.py",
            "change_type": "fixed",
            "severity": "high",
            "lines_added": 5,
            "lines_removed": 2,
            "imports": [
              "typing"
            ],
            "change_summary": "Added defensive programming for missing user_preferences with default fallback",
            "language": "python",
            "diff_summary": "Added defensive programming for missing user_preferences with default fallback",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Dashboard memory usage decreased from 450MB to 120MB after optimizations.",
            "summary": "Dashboard memory usage decreased from 450MB to 120MB after optimizations.",
            "name": "REDUCED_MEMORY_USAGE_TO",
            "id": "f940423d-ef28-418c-9fac-e82fe20c6166",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "api/dashboard.py",
                "name": "Context: api/dashboard.py",
                "usefulness_score": null,
                "uuid": "cdc96ae2-31af-4e7d-835e-258b3cc4c396",
                "type": "ContextFile"
              },
              {
                "file_path": "database/queries.py",
                "name": "Context: database/queries.py",
                "usefulness_score": null,
                "uuid": "bc0a9362-759b-4304-904d-78ffe0342897",
                "type": "ContextFile"
              },
              {
                "file_path": "services/cache.py",
                "name": "Context: services/cache.py",
                "usefulness_score": null,
                "uuid": "fcd8e1ad-3cb7-4355-914d-3620290073d1",
                "type": "ContextFile"
              },
              {
                "file_path": "models/project.py",
                "name": "Context: models/project.py",
                "usefulness_score": null,
                "uuid": "e0d19b77-95ac-434c-8045-947c1694dc23",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_performance.py",
                "name": "Context: tests/test_performance.py",
                "usefulness_score": null,
                "uuid": "135db01d-b3c3-4757-a89b-252752b55e71",
                "type": "ContextFile"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "3c09eb02-dfff-4153-a11e-e59d32b7dacc",
                "type": "ToolCall"
              },
              {
                "tool_name": "profile_code",
                "name": "Tool: profile_code",
                "uuid": "5a85f694-7f04-421b-a2cc-da59fb45e0e9",
                "type": "ToolCall"
              },
              {
                "tool_name": "analyze_queries",
                "name": "Tool: analyze_queries",
                "uuid": "2a13df51-c7c1-48db-8898-6754ddb3e973",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "cb5142d3-663a-4c04-809d-88443aff2ca5",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "aed3e6f5-c6b2-427e-902c-0ffb7c4c92b3",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_migration",
                "name": "Tool: run_migration",
                "uuid": "a0966e23-174d-490d-a617-dad2116aaf77",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "da96b0d3-f3c1-457c-9b17-1c4cce0a0ab5",
                "type": "ToolCall"
              },
              {
                "tool_name": "load_test",
                "name": "Tool: load_test",
                "uuid": "7c1776d8-72ff-477a-ad25-d336a254b375",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Response time improved from 450ms to 85ms after refactor",
            "summary": "Response time improved from 450ms to 85ms after refactor",
            "name": "IMPROVED_PERFORMANCE",
            "id": "4a462c6b-0a7c-4129-ad7a-24c72c607382",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "database/users.py",
                "name": "Context: database/users.py",
                "usefulness_score": null,
                "uuid": "af8db8d1-27d8-4d2f-ab6b-30d2accde10e",
                "type": "ContextFile"
              },
              {
                "file_path": "database/connection.py",
                "name": "Context: database/connection.py",
                "usefulness_score": null,
                "uuid": "f6feea13-5bf0-4194-82b3-bbcb089d9385",
                "type": "ContextFile"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "4bc0e06b-86f6-41ef-9055-f1e6fc3771a0",
                "type": "ContextFile"
              },
              {
                "file_path": "services/auth.py",
                "name": "Context: services/auth.py",
                "usefulness_score": null,
                "uuid": "1677cce4-2957-426a-a8d1-8ca62ef09e5b",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_database.py",
                "name": "Context: tests/test_database.py",
                "usefulness_score": null,
                "uuid": "f9653639-118b-439a-8d42-8d9a38e6b36d",
                "type": "ContextFile"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "5beaa8e5-00a7-4fea-9050-005353611aa4",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "bbb31540-e7e4-42b9-b790-2483ffe4b85c",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "79a49cb9-4c88-4d91-976c-b9463427b6eb",
                "type": "ToolCall"
              },
              {
                "tool_name": "grep_search",
                "name": "Tool: grep_search",
                "uuid": "b981a3d1-797a-424a-884f-55c14fded9d4",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "209509c1-34c8-498f-b52e-a3c8724ad0bd",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "48169733-a389-41f8-a46c-7f40d127b98c",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "summary": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "name": "REDUCED_QUERIES_TO",
            "id": "2bcb04b8-c3ab-4315-b4fa-0537a008318f",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Added test for users without preferences",
            "summary": "Added test for users without preferences",
            "name": "TEST_ADDED_FOR_ENTITY",
            "id": "6343458d-31b2-4b38-b2a0-801872e77ba6",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 2.5722858905792236,
        "result_count": 5
      }
    },
    "coding_tasks": {
      "implement user authentication": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "OpenAPI Specification (docs/openapi/auth.yaml) includes Authentication requirements",
            "summary": "OpenAPI Specification (docs/openapi/auth.yaml) includes Authentication requirements",
            "name": "DOCUMENTS_INCLUDED",
            "id": "f76b806c-4d7d-4cec-a524-169aaf9bba6e",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "docs/openapi/auth.yaml",
            "change_type": "added",
            "severity": "low",
            "lines_added": 342,
            "lines_removed": 0,
            "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "language": "yaml",
            "diff_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "services/auth.py is one of the updated callers of get_user_data",
            "summary": "services/auth.py is one of the updated callers of get_user_data",
            "name": "CALLER",
            "id": "fb2fc05a-2e9c-4359-8a90-07cfd4eebeef",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Dashboard loads 100 projects per user.",
            "summary": "Dashboard loads 100 projects per user.",
            "name": "LOADS",
            "id": "f940423d-ef28-418c-9fac-e82fe20c6166",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "api/dashboard.py",
                "name": "Context: api/dashboard.py",
                "usefulness_score": null,
                "uuid": "cdc96ae2-31af-4e7d-835e-258b3cc4c396",
                "type": "ContextFile"
              },
              {
                "file_path": "database/queries.py",
                "name": "Context: database/queries.py",
                "usefulness_score": null,
                "uuid": "bc0a9362-759b-4304-904d-78ffe0342897",
                "type": "ContextFile"
              },
              {
                "file_path": "services/cache.py",
                "name": "Context: services/cache.py",
                "usefulness_score": null,
                "uuid": "fcd8e1ad-3cb7-4355-914d-3620290073d1",
                "type": "ContextFile"
              },
              {
                "file_path": "models/project.py",
                "name": "Context: models/project.py",
                "usefulness_score": null,
                "uuid": "e0d19b77-95ac-434c-8045-947c1694dc23",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_performance.py",
                "name": "Context: tests/test_performance.py",
                "usefulness_score": null,
                "uuid": "135db01d-b3c3-4757-a89b-252752b55e71",
                "type": "ContextFile"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "3c09eb02-dfff-4153-a11e-e59d32b7dacc",
                "type": "ToolCall"
              },
              {
                "tool_name": "profile_code",
                "name": "Tool: profile_code",
                "uuid": "5a85f694-7f04-421b-a2cc-da59fb45e0e9",
                "type": "ToolCall"
              },
              {
                "tool_name": "analyze_queries",
                "name": "Tool: analyze_queries",
                "uuid": "2a13df51-c7c1-48db-8898-6754ddb3e973",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "cb5142d3-663a-4c04-809d-88443aff2ca5",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "aed3e6f5-c6b2-427e-902c-0ffb7c4c92b3",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_migration",
                "name": "Tool: run_migration",
                "uuid": "a0966e23-174d-490d-a617-dad2116aaf77",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "da96b0d3-f3c1-457c-9b17-1c4cce0a0ab5",
                "type": "ToolCall"
              },
              {
                "tool_name": "load_test",
                "name": "Tool: load_test",
                "uuid": "7c1776d8-72ff-477a-ad25-d336a254b375",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 2.625216484069824,
        "result_count": 3
      },
      "optimize database queries": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "summary": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "name": "REDUCED_QUERIES_TO",
            "id": "2bcb04b8-c3ab-4315-b4fa-0537a008318f",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Loading 100 projects caused a total of 301 database queries (1 + 300).",
            "summary": "Loading 100 projects caused a total of 301 database queries (1 + 300).",
            "name": "RESULTS_IN",
            "id": "77b5e200-5aea-42e7-9542-dbeff3e61d56",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "get_user_data has await added to all DB queries using asyncpg",
            "summary": "get_user_data has await added to all DB queries using asyncpg",
            "name": "AWAIT_USED_IN_QUERIES",
            "id": "0d14fea8-8d0a-418e-ad71-8831857ca7ab",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Using prefetch_related() reduced queries for Recent activity.",
            "summary": "Using prefetch_related() reduced queries for Recent activity.",
            "name": "REDUCED_BY",
            "id": "8f41212e-ebe7-4c8c-a539-7233c5f14753",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "database schema indicates user_preferences is nullable",
            "summary": "database schema indicates user_preferences is nullable",
            "name": "SCHEMA_NULLABLE",
            "id": "1b2db3c9-102d-4fb1-86ba-c4d6ec985585",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "api/profile.py",
            "change_type": "fixed",
            "severity": "high",
            "lines_added": 5,
            "lines_removed": 2,
            "imports": [
              "typing"
            ],
            "change_summary": "Added defensive programming for missing user_preferences with default fallback",
            "language": "python",
            "diff_summary": "Added defensive programming for missing user_preferences with default fallback",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 2.183476209640503,
        "result_count": 5
      },
      "refactor legacy code": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "Response time improved from 450ms to 85ms after refactor",
            "summary": "Response time improved from 450ms to 85ms after refactor",
            "name": "IMPROVED_PERFORMANCE",
            "id": "4a462c6b-0a7c-4129-ad7a-24c72c607382",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "database/users.py",
                "name": "Context: database/users.py",
                "usefulness_score": null,
                "uuid": "af8db8d1-27d8-4d2f-ab6b-30d2accde10e",
                "type": "ContextFile"
              },
              {
                "file_path": "database/connection.py",
                "name": "Context: database/connection.py",
                "usefulness_score": null,
                "uuid": "f6feea13-5bf0-4194-82b3-bbcb089d9385",
                "type": "ContextFile"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "4bc0e06b-86f6-41ef-9055-f1e6fc3771a0",
                "type": "ContextFile"
              },
              {
                "file_path": "services/auth.py",
                "name": "Context: services/auth.py",
                "usefulness_score": null,
                "uuid": "1677cce4-2957-426a-a8d1-8ca62ef09e5b",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_database.py",
                "name": "Context: tests/test_database.py",
                "usefulness_score": null,
                "uuid": "f9653639-118b-439a-8d42-8d9a38e6b36d",
                "type": "ContextFile"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "5beaa8e5-00a7-4fea-9050-005353611aa4",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "bbb31540-e7e4-42b9-b790-2483ffe4b85c",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "79a49cb9-4c88-4d91-976c-b9463427b6eb",
                "type": "ToolCall"
              },
              {
                "tool_name": "grep_search",
                "name": "Tool: grep_search",
                "uuid": "b981a3d1-797a-424a-884f-55c14fded9d4",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "209509c1-34c8-498f-b52e-a3c8724ad0bd",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "48169733-a389-41f8-a46c-7f40d127b98c",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "user_data['user_preferences'] accessed in code",
            "summary": "user_data['user_preferences'] accessed in code",
            "name": "ERROR_ACCESS_PATH",
            "id": "0d14fea8-8d0a-418e-ad71-8831857ca7ab",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Fix added default preferences initialization and migration script",
            "summary": "Fix added default preferences initialization and migration script",
            "name": "FIX_APPLIED_IN_FILE",
            "id": "eded1de9-2033-48b8-aff3-e7d2081b5e85",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "api/profile.py",
            "change_type": "fixed",
            "severity": "high",
            "lines_added": 5,
            "lines_removed": 2,
            "imports": [
              "typing"
            ],
            "change_summary": "Added defensive programming for missing user_preferences with default fallback",
            "language": "python",
            "diff_summary": "Added defensive programming for missing user_preferences with default fallback",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "summary": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "name": "REDUCED_QUERIES_TO",
            "id": "2bcb04b8-c3ab-4315-b4fa-0537a008318f",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 3.0477352142333984,
        "result_count": 4
      },
      "add error handling": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "payment/processor.py uses try-except for error handling",
            "summary": "payment/processor.py uses try-except for error handling",
            "name": "USES_ERROR_HANDLING",
            "id": "457bec90-040c-475d-9180-d7070f4316b0",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "OpenAPI Specification (docs/openapi/auth.yaml) includes Error handling examples",
            "summary": "OpenAPI Specification (docs/openapi/auth.yaml) includes Error handling examples",
            "name": "DOCUMENTS",
            "id": "f76b806c-4d7d-4cec-a524-169aaf9bba6e",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "docs/openapi/auth.yaml",
            "change_type": "added",
            "severity": "low",
            "lines_added": 342,
            "lines_removed": 0,
            "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "language": "yaml",
            "diff_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "File validation middleware includes Magic byte checking",
            "summary": "File validation middleware includes Magic byte checking",
            "name": "USES_SECURITY_FEATURE",
            "id": "8677e067-5647-4f4c-981a-ccb9eb902d65",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 2.4782848358154297,
        "result_count": 3
      }
    },
    "mixed_keywords": {
      "async database refactor performance": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "database/users.py was refactored so get_user_data() uses async/await",
            "summary": "database/users.py was refactored so get_user_data() uses async/await",
            "name": "MODIFIED_TO_USE",
            "id": "4a462c6b-0a7c-4129-ad7a-24c72c607382",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "database/users.py",
                "name": "Context: database/users.py",
                "usefulness_score": null,
                "uuid": "af8db8d1-27d8-4d2f-ab6b-30d2accde10e",
                "type": "ContextFile"
              },
              {
                "file_path": "database/connection.py",
                "name": "Context: database/connection.py",
                "usefulness_score": null,
                "uuid": "f6feea13-5bf0-4194-82b3-bbcb089d9385",
                "type": "ContextFile"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "4bc0e06b-86f6-41ef-9055-f1e6fc3771a0",
                "type": "ContextFile"
              },
              {
                "file_path": "services/auth.py",
                "name": "Context: services/auth.py",
                "usefulness_score": null,
                "uuid": "1677cce4-2957-426a-a8d1-8ca62ef09e5b",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_database.py",
                "name": "Context: tests/test_database.py",
                "usefulness_score": null,
                "uuid": "f9653639-118b-439a-8d42-8d9a38e6b36d",
                "type": "ContextFile"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "5beaa8e5-00a7-4fea-9050-005353611aa4",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "bbb31540-e7e4-42b9-b790-2483ffe4b85c",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "79a49cb9-4c88-4d91-976c-b9463427b6eb",
                "type": "ToolCall"
              },
              {
                "tool_name": "grep_search",
                "name": "Tool: grep_search",
                "uuid": "b981a3d1-797a-424a-884f-55c14fded9d4",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "209509c1-34c8-498f-b52e-a3c8724ad0bd",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "48169733-a389-41f8-a46c-7f40d127b98c",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "summary": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "name": "REDUCED_QUERIES_TO",
            "id": "2bcb04b8-c3ab-4315-b4fa-0537a008318f",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Loading 100 projects caused a total of 301 database queries (1 + 300).",
            "summary": "Loading 100 projects caused a total of 301 database queries (1 + 300).",
            "name": "RESULTS_IN",
            "id": "77b5e200-5aea-42e7-9542-dbeff3e61d56",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "get_user_data is defined in database/users.py",
            "summary": "get_user_data is defined in database/users.py",
            "name": "FUNCTION",
            "id": "0d14fea8-8d0a-418e-ad71-8831857ca7ab",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 2.543079376220703,
        "result_count": 4
      },
      "security vulnerability authentication": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "OpenAPI Specification (docs/openapi/auth.yaml) includes Authentication requirements",
            "summary": "OpenAPI Specification (docs/openapi/auth.yaml) includes Authentication requirements",
            "name": "DOCUMENTS_INCLUDED",
            "id": "f76b806c-4d7d-4cec-a524-169aaf9bba6e",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "docs/openapi/auth.yaml",
            "change_type": "added",
            "severity": "low",
            "lines_added": 342,
            "lines_removed": 0,
            "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "language": "yaml",
            "diff_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "payment/processor.py was reviewed using security_scan",
            "summary": "payment/processor.py was reviewed using security_scan",
            "name": "REVIEWED_BY_TOOL",
            "id": "457bec90-040c-475d-9180-d7070f4316b0",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "File validation middleware includes Virus scanning (ClamAV integration)",
            "summary": "File validation middleware includes Virus scanning (ClamAV integration)",
            "name": "USES_SECURITY_FEATURE",
            "id": "8677e067-5647-4f4c-981a-ccb9eb902d65",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 2.1379809379577637,
        "result_count": 3
      },
      "optimization cache memory": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "Dashboard memory usage decreased from 450MB to 120MB after optimizations.",
            "summary": "Dashboard memory usage decreased from 450MB to 120MB after optimizations.",
            "name": "REDUCED_MEMORY_USAGE_TO",
            "id": "f940423d-ef28-418c-9fac-e82fe20c6166",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "api/dashboard.py",
                "name": "Context: api/dashboard.py",
                "usefulness_score": null,
                "uuid": "cdc96ae2-31af-4e7d-835e-258b3cc4c396",
                "type": "ContextFile"
              },
              {
                "file_path": "database/queries.py",
                "name": "Context: database/queries.py",
                "usefulness_score": null,
                "uuid": "bc0a9362-759b-4304-904d-78ffe0342897",
                "type": "ContextFile"
              },
              {
                "file_path": "services/cache.py",
                "name": "Context: services/cache.py",
                "usefulness_score": null,
                "uuid": "fcd8e1ad-3cb7-4355-914d-3620290073d1",
                "type": "ContextFile"
              },
              {
                "file_path": "models/project.py",
                "name": "Context: models/project.py",
                "usefulness_score": null,
                "uuid": "e0d19b77-95ac-434c-8045-947c1694dc23",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_performance.py",
                "name": "Context: tests/test_performance.py",
                "usefulness_score": null,
                "uuid": "135db01d-b3c3-4757-a89b-252752b55e71",
                "type": "ContextFile"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "3c09eb02-dfff-4153-a11e-e59d32b7dacc",
                "type": "ToolCall"
              },
              {
                "tool_name": "profile_code",
                "name": "Tool: profile_code",
                "uuid": "5a85f694-7f04-421b-a2cc-da59fb45e0e9",
                "type": "ToolCall"
              },
              {
                "tool_name": "analyze_queries",
                "name": "Tool: analyze_queries",
                "uuid": "2a13df51-c7c1-48db-8898-6754ddb3e973",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "cb5142d3-663a-4c04-809d-88443aff2ca5",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "aed3e6f5-c6b2-427e-902c-0ffb7c4c92b3",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_migration",
                "name": "Tool: run_migration",
                "uuid": "a0966e23-174d-490d-a617-dad2116aaf77",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "da96b0d3-f3c1-457c-9b17-1c4cce0a0ab5",
                "type": "ToolCall"
              },
              {
                "tool_name": "load_test",
                "name": "Tool: load_test",
                "uuid": "7c1776d8-72ff-477a-ad25-d336a254b375",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Redis cache uses key dashboard:{user_id}:{timestamp}.",
            "summary": "Redis cache uses key dashboard:{user_id}:{timestamp}.",
            "name": "USES_CACHE_KEY",
            "id": "d481287b-249b-4f3c-ab4f-44293e3c9941",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "e4f90ec4-dd8b-42ef-a470-0af950315385",
                "type": "ContextFile"
              },
              {
                "file_path": "services/storage.py",
                "name": "Context: services/storage.py",
                "usefulness_score": null,
                "uuid": "cbaa7d8a-7530-4e83-9fab-ec339ebb1399",
                "type": "ContextFile"
              },
              {
                "file_path": "middleware/validation.py",
                "name": "Context: middleware/validation.py",
                "usefulness_score": null,
                "uuid": "6991be02-c769-4319-8a7d-8445964d5d1c",
                "type": "ContextFile"
              },
              {
                "file_path": "config/settings.py",
                "name": "Context: config/settings.py",
                "usefulness_score": null,
                "uuid": "cd68db1b-1493-43ac-8754-7ef2385235d0",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_uploads.py",
                "name": "Context: tests/test_uploads.py",
                "usefulness_score": null,
                "uuid": "2210fece-7a33-40e5-b5bb-7126a3718229",
                "type": "ContextFile"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "392a6274-788f-4065-9478-80f3ee01cf4d",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "ed56f2e2-d5e7-4b1c-adfd-bce35010b092",
                "type": "ToolCall"
              },
              {
                "tool_name": "create_file",
                "name": "Tool: create_file",
                "uuid": "cf20b6ff-4a01-4ff0-8cc1-ed2018e49f56",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "0b638f21-d468-49e7-bb9c-19fa13e0f0cf",
                "type": "ToolCall"
              },
              {
                "tool_name": "create_file",
                "name": "Tool: create_file",
                "uuid": "8738c091-ef29-4bb0-bf77-8bb9cbec5854",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "dd4cf309-e752-4b42-bce7-eab71007fc3d",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_command",
                "name": "Tool: run_command",
                "uuid": "7c51dd24-bf70-4939-90b8-8808dc0cba0d",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "summary": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "name": "REDUCED_QUERIES_TO",
            "id": "2bcb04b8-c3ab-4315-b4fa-0537a008318f",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 3.0868515968322754,
        "result_count": 3
      },
      "testing deployment monitoring": {
        "strategy": "rrf",
        "confidence": 0.9,
        "reasoning": "FALLBACK: No diversity, entity, or precision keywords detected → RRF",
        "results": [
          {
            "text": "database/users.py can now handle 10x concurrent requests for innocody_test_project",
            "summary": "database/users.py can now handle 10x concurrent requests for innocody_test_project",
            "name": "HANDLES_MORE_CONCURRENCY",
            "id": "4a462c6b-0a7c-4129-ad7a-24c72c607382",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "database/users.py",
                "name": "Context: database/users.py",
                "usefulness_score": null,
                "uuid": "af8db8d1-27d8-4d2f-ab6b-30d2accde10e",
                "type": "ContextFile"
              },
              {
                "file_path": "database/connection.py",
                "name": "Context: database/connection.py",
                "usefulness_score": null,
                "uuid": "f6feea13-5bf0-4194-82b3-bbcb089d9385",
                "type": "ContextFile"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "4bc0e06b-86f6-41ef-9055-f1e6fc3771a0",
                "type": "ContextFile"
              },
              {
                "file_path": "services/auth.py",
                "name": "Context: services/auth.py",
                "usefulness_score": null,
                "uuid": "1677cce4-2957-426a-a8d1-8ca62ef09e5b",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_database.py",
                "name": "Context: tests/test_database.py",
                "usefulness_score": null,
                "uuid": "f9653639-118b-439a-8d42-8d9a38e6b36d",
                "type": "ContextFile"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "5beaa8e5-00a7-4fea-9050-005353611aa4",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "bbb31540-e7e4-42b9-b790-2483ffe4b85c",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "79a49cb9-4c88-4d91-976c-b9463427b6eb",
                "type": "ToolCall"
              },
              {
                "tool_name": "grep_search",
                "name": "Tool: grep_search",
                "uuid": "b981a3d1-797a-424a-884f-55c14fded9d4",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "209509c1-34c8-498f-b52e-a3c8724ad0bd",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "48169733-a389-41f8-a46c-7f40d127b98c",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "tests/test_database.py: All tests passing after changes to database/users.py",
            "summary": "tests/test_database.py: All tests passing after changes to database/users.py",
            "name": "TESTS_STATUS",
            "id": "6343458d-31b2-4b38-b2a0-801872e77ba6",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "payment processing module is part of innocody_test_project",
            "summary": "payment processing module is part of innocody_test_project",
            "name": "PART_OF_PROJECT",
            "id": "65c1f7ed-6b8e-4e5d-8925-f9b07690e740",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "payment/processor.py missing audit logging (Throughout)",
            "summary": "payment/processor.py missing audit logging (Throughout)",
            "name": "LACKS_AUDIT_LOGGING",
            "id": "457bec90-040c-475d-9180-d7070f4316b0",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 2.233644485473633,
        "result_count": 4
      }
    },
    "diversity_queries": {
      "show me different authentication methods": {
        "strategy": "mmr",
        "confidence": 1.0,
        "reasoning": "MANDATORY: Diversity keyword 'different' detected → MMR",
        "results": [
          {
            "text": "OpenAPI Specification (docs/openapi/auth.yaml) includes Authentication requirements",
            "summary": "OpenAPI Specification (docs/openapi/auth.yaml) includes Authentication requirements",
            "name": "DOCUMENTS_INCLUDED",
            "id": "f76b806c-4d7d-4cec-a524-169aaf9bba6e",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "docs/openapi/auth.yaml",
            "change_type": "added",
            "severity": "low",
            "lines_added": 342,
            "lines_removed": 0,
            "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "language": "yaml",
            "diff_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 2.786853551864624,
        "result_count": 1
      },
      "various caching strategies for performance": {
        "strategy": "mmr",
        "confidence": 1.0,
        "reasoning": "MANDATORY: Diversity keyword 'various' detected \u00021 MMR",
        "results": [
          {
            "text": "For each project, separate queries are made for Task counts.",
            "summary": "For each project, separate queries are made for Task counts.",
            "name": "TRIGGERS_QUERIES_FOR",
            "id": "77b5e200-5aea-42e7-9542-dbeff3e61d56",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Redis cache uses key dashboard:{user_id}:{timestamp}.",
            "summary": "Redis cache uses key dashboard:{user_id}:{timestamp}.",
            "name": "USES_CACHE_KEY",
            "id": "d481287b-249b-4f3c-ab4f-44293e3c9941",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "e4f90ec4-dd8b-42ef-a470-0af950315385",
                "type": "ContextFile"
              },
              {
                "file_path": "services/storage.py",
                "name": "Context: services/storage.py",
                "usefulness_score": null,
                "uuid": "cbaa7d8a-7530-4e83-9fab-ec339ebb1399",
                "type": "ContextFile"
              },
              {
                "file_path": "middleware/validation.py",
                "name": "Context: middleware/validation.py",
                "usefulness_score": null,
                "uuid": "6991be02-c769-4319-8a7d-8445964d5d1c",
                "type": "ContextFile"
              },
              {
                "file_path": "config/settings.py",
                "name": "Context: config/settings.py",
                "usefulness_score": null,
                "uuid": "cd68db1b-1493-43ac-8754-7ef2385235d0",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_uploads.py",
                "name": "Context: tests/test_uploads.py",
                "usefulness_score": null,
                "uuid": "2210fece-7a33-40e5-b5bb-7126a3718229",
                "type": "ContextFile"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "392a6274-788f-4065-9478-80f3ee01cf4d",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "ed56f2e2-d5e7-4b1c-adfd-bce35010b092",
                "type": "ToolCall"
              },
              {
                "tool_name": "create_file",
                "name": "Tool: create_file",
                "uuid": "cf20b6ff-4a01-4ff0-8cc1-ed2018e49f56",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "0b638f21-d468-49e7-bb9c-19fa13e0f0cf",
                "type": "ToolCall"
              },
              {
                "tool_name": "create_file",
                "name": "Tool: create_file",
                "uuid": "8738c091-ef29-4bb0-bf77-8bb9cbec5854",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "dd4cf309-e752-4b42-bce7-eab71007fc3d",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_command",
                "name": "Tool: run_command",
                "uuid": "7c51dd24-bf70-4939-90b8-8808dc0cba0d",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Dashboard data was added to Redis cache with 5min TTL.",
            "summary": "Dashboard data was added to Redis cache with 5min TTL.",
            "name": "CACHED_WITH",
            "id": "f940423d-ef28-418c-9fac-e82fe20c6166",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "api/dashboard.py",
                "name": "Context: api/dashboard.py",
                "usefulness_score": null,
                "uuid": "cdc96ae2-31af-4e7d-835e-258b3cc4c396",
                "type": "ContextFile"
              },
              {
                "file_path": "database/queries.py",
                "name": "Context: database/queries.py",
                "usefulness_score": null,
                "uuid": "bc0a9362-759b-4304-904d-78ffe0342897",
                "type": "ContextFile"
              },
              {
                "file_path": "services/cache.py",
                "name": "Context: services/cache.py",
                "usefulness_score": null,
                "uuid": "fcd8e1ad-3cb7-4355-914d-3620290073d1",
                "type": "ContextFile"
              },
              {
                "file_path": "models/project.py",
                "name": "Context: models/project.py",
                "usefulness_score": null,
                "uuid": "e0d19b77-95ac-434c-8045-947c1694dc23",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_performance.py",
                "name": "Context: tests/test_performance.py",
                "usefulness_score": null,
                "uuid": "135db01d-b3c3-4757-a89b-252752b55e71",
                "type": "ContextFile"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "3c09eb02-dfff-4153-a11e-e59d32b7dacc",
                "type": "ToolCall"
              },
              {
                "tool_name": "profile_code",
                "name": "Tool: profile_code",
                "uuid": "5a85f694-7f04-421b-a2cc-da59fb45e0e9",
                "type": "ToolCall"
              },
              {
                "tool_name": "analyze_queries",
                "name": "Tool: analyze_queries",
                "uuid": "2a13df51-c7c1-48db-8898-6754ddb3e973",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "cb5142d3-663a-4c04-809d-88443aff2ca5",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "aed3e6f5-c6b2-427e-902c-0ffb7c4c92b3",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_migration",
                "name": "Tool: run_migration",
                "uuid": "a0966e23-174d-490d-a617-dad2116aaf77",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "da96b0d3-f3c1-457c-9b17-1c4cce0a0ab5",
                "type": "ToolCall"
              },
              {
                "tool_name": "load_test",
                "name": "Tool: load_test",
                "uuid": "7c1776d8-72ff-477a-ad25-d336a254b375",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 3.156919240951538,
        "result_count": 3
      },
      "compare different database optimization approaches": {
        "strategy": "mmr",
        "confidence": 1.0,
        "reasoning": "MANDATORY: Diversity keywords 'compare' and 'different' detected → MMR",
        "results": [
          {
            "text": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "summary": "Optimizations reduced database queries from 301 queries to 4 queries.",
            "name": "REDUCED_QUERIES_TO",
            "id": "2bcb04b8-c3ab-4315-b4fa-0537a008318f",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "get_user_data is defined in database/users.py",
            "summary": "get_user_data is defined in database/users.py",
            "name": "FUNCTION",
            "id": "0d14fea8-8d0a-418e-ad71-8831857ca7ab",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "database schema indicates user_preferences is nullable",
            "summary": "database schema indicates user_preferences is nullable",
            "name": "SCHEMA_NULLABLE",
            "id": "1b2db3c9-102d-4fb1-86ba-c4d6ec985585",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "api/profile.py",
            "change_type": "fixed",
            "severity": "high",
            "lines_added": 5,
            "lines_removed": 2,
            "imports": [
              "typing"
            ],
            "change_summary": "Added defensive programming for missing user_preferences with default fallback",
            "language": "python",
            "diff_summary": "Added defensive programming for missing user_preferences with default fallback",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "For each project, separate queries are made for Task counts.",
            "summary": "For each project, separate queries are made for Task counts.",
            "name": "TRIGGERS_QUERIES_FOR",
            "id": "77b5e200-5aea-42e7-9542-dbeff3e61d56",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "database/users.py was updated to use asyncpg",
            "summary": "database/users.py was updated to use asyncpg",
            "name": "ADDED_LIBRARY",
            "id": "4a462c6b-0a7c-4129-ad7a-24c72c607382",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "file_path": "database/users.py",
                "name": "Context: database/users.py",
                "usefulness_score": null,
                "uuid": "af8db8d1-27d8-4d2f-ab6b-30d2accde10e",
                "type": "ContextFile"
              },
              {
                "file_path": "database/connection.py",
                "name": "Context: database/connection.py",
                "usefulness_score": null,
                "uuid": "f6feea13-5bf0-4194-82b3-bbcb089d9385",
                "type": "ContextFile"
              },
              {
                "file_path": "api/users.py",
                "name": "Context: api/users.py",
                "usefulness_score": null,
                "uuid": "4bc0e06b-86f6-41ef-9055-f1e6fc3771a0",
                "type": "ContextFile"
              },
              {
                "file_path": "services/auth.py",
                "name": "Context: services/auth.py",
                "usefulness_score": null,
                "uuid": "1677cce4-2957-426a-a8d1-8ca62ef09e5b",
                "type": "ContextFile"
              },
              {
                "file_path": "tests/test_database.py",
                "name": "Context: tests/test_database.py",
                "usefulness_score": null,
                "uuid": "f9653639-118b-439a-8d42-8d9a38e6b36d",
                "type": "ContextFile"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "5beaa8e5-00a7-4fea-9050-005353611aa4",
                "type": "ToolCall"
              },
              {
                "tool_name": "run_tests",
                "name": "Tool: run_tests",
                "uuid": "bbb31540-e7e4-42b9-b790-2483ffe4b85c",
                "type": "ToolCall"
              },
              {
                "tool_name": "read_file",
                "name": "Tool: read_file",
                "uuid": "79a49cb9-4c88-4d91-976c-b9463427b6eb",
                "type": "ToolCall"
              },
              {
                "tool_name": "grep_search",
                "name": "Tool: grep_search",
                "uuid": "b981a3d1-797a-424a-884f-55c14fded9d4",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "209509c1-34c8-498f-b52e-a3c8724ad0bd",
                "type": "ToolCall"
              },
              {
                "tool_name": "edit_file",
                "name": "Tool: edit_file",
                "uuid": "48169733-a389-41f8-a46c-7f40d127b98c",
                "type": "ToolCall"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 2.930868625640869,
        "result_count": 5
      }
    },
    "precision_queries": {
      "generate exact JWT token validation code": {
        "strategy": "cross_encoder",
        "confidence": 1.0,
        "reasoning": "MANDATORY: Precision keywords 'generate' and 'exact' detected → CROSS_ENCODER",
        "results": [
          {
            "text": "File validation middleware: File types: PNG only",
            "summary": "File validation middleware: File types: PNG only",
            "name": "VALIDATES_FILE_TYPE",
            "id": "8677e067-5647-4f4c-981a-ccb9eb902d65",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Created code examples in docs/examples/ for api/auth.py",
            "summary": "Created code examples in docs/examples/ for api/auth.py",
            "name": "EXAMPLES_CREATED",
            "id": "18025f19-a41d-45a1-9b9c-fc6f7192f37b",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "docs/openapi/auth.yaml",
            "change_type": "added",
            "severity": "low",
            "lines_added": 342,
            "lines_removed": 0,
            "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "language": "yaml",
            "diff_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "project_id": "innocody_test_project",
            "request_id": "req_review_payment_001",
            "chat_id": "chat_review_payment",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 222,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 3,
            "related_nodes": [
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "user_data['user_preferences']['theme'] accessed in code",
            "summary": "user_data['user_preferences']['theme'] accessed in code",
            "name": "ERROR_ACCESS_FIELD",
            "id": "0d14fea8-8d0a-418e-ad71-8831857ca7ab",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 4.099952459335327,
        "result_count": 3
      },
      "implement precise error handling for critical functions": {
        "strategy": "cross_encoder",
        "confidence": 1.0,
        "reasoning": "MANDATORY: Precision keywords 'precise' and 'critical' detected → CROSS_ENCODER",
        "results": [
          {
            "text": "OpenAPI Specification (docs/openapi/auth.yaml) includes Error handling examples",
            "summary": "OpenAPI Specification (docs/openapi/auth.yaml) includes Error handling examples",
            "name": "DOCUMENTS",
            "id": "f76b806c-4d7d-4cec-a524-169aaf9bba6e",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "docs/openapi/auth.yaml",
            "change_type": "added",
            "severity": "low",
            "lines_added": 342,
            "lines_removed": 0,
            "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "language": "yaml",
            "diff_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 342,
                "file_path": "docs/openapi/auth.yaml",
                "change_summary": "Generated comprehensive OpenAPI 3.0 specification for all auth endpoints",
                "name": "Added docs/openapi/auth.yaml",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "6380d9dc-b6b4-48fd-8b27-996d15d7cdac",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "api/auth.py",
                "change_summary": "Enhanced with detailed docstrings and type hints for auto-documentation",
                "name": "Modified api/auth.py",
                "lines_removed": 12,
                "severity": "low",
                "uuid": "5c6965fd-a91d-4f48-a3bf-2d92efbb6c3d",
                "change_type": "modified",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "payment/processor.py uses try-except for error handling",
            "summary": "payment/processor.py uses try-except for error handling",
            "name": "USES_ERROR_HANDLING",
            "id": "a58dd0db-d998-4e82-b475-8847a27c4df5",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "project_id": "innocody_test_project",
            "request_id": "req_review_payment_001",
            "chat_id": "chat_review_payment",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 222,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 3,
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Using prefetch_related() reduced queries for Recent activity.",
            "summary": "Using prefetch_related() reduced queries for Recent activity.",
            "name": "REDUCED_BY",
            "id": "8f41212e-ebe7-4c8c-a539-7233c5f14753",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_feature_upload_001",
            "chat_id": "chat_feature_upload",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 189,
            "message_count": 2,
            "context_file_count": 5,
            "tool_call_count": 7,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          },
          {
            "text": "Added test for users without preferences",
            "summary": "Added test for users without preferences",
            "name": "TEST_ADDED_FOR_ENTITY",
            "id": "6343458d-31b2-4b38-b2a0-801872e77ba6",
            "group_id": "innocody_test_project",
            "score": 0.0,
            "file_path": "database/users.py",
            "change_type": "refactored",
            "severity": "medium",
            "lines_added": 8,
            "lines_removed": 6,
            "imports": [
              "asyncpg",
              "asyncio"
            ],
            "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "language": "python",
            "diff_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
            "project_id": "innocody_test_project",
            "request_id": "req_bug_keyerror_001",
            "chat_id": "chat_debug_keyerror",
            "chat_mode": "AGENT",
            "model": "gpt-4o-mini",
            "total_tokens": 168,
            "message_count": 2,
            "context_file_count": 4,
            "tool_call_count": 6,
            "related_nodes": [
              {
                "lines_added": 8,
                "file_path": "database/users.py",
                "change_summary": "Converted get_user_data() from synchronous to async/await pattern using asyncpg",
                "name": "Refactored database/users.py",
                "lines_removed": 6,
                "severity": "medium",
                "uuid": "3a02fa25-da55-411c-8036-7185044b7142",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 2,
                "file_path": "api/users.py",
                "change_summary": "Updated get_user_endpoint to await async get_user_data() call",
                "name": "Modified api/users.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "676cbcdb-de64-4582-a621-47d59e0ecf2b",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 1,
                "file_path": "services/auth.py",
                "change_summary": "Updated validate_user to await async get_user_data()",
                "name": "Modified services/auth.py",
                "lines_removed": 1,
                "severity": "low",
                "uuid": "69421e93-0c74-478c-b902-db5a0759d4fe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 5,
                "file_path": "api/profile.py",
                "change_summary": "Added defensive programming for missing user_preferences with default fallback",
                "name": "Fixed api/profile.py",
                "lines_removed": 2,
                "severity": "high",
                "uuid": "cb33c150-4839-4979-a70d-eb383c6d449f",
                "change_type": "fixed",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "tests/test_profile.py",
                "change_summary": "Added test case for users without preferences to prevent regression",
                "name": "Added tests/test_profile.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "89d8f814-ebad-4703-a263-1046b9eaad9a",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 45,
                "file_path": "api/users.py",
                "change_summary": "Added POST /users/{user_id}/profile-picture endpoint with multipart file upload",
                "name": "Added api/users.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "833255e7-02f6-4f5c-b52b-b724bb2c3024",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 67,
                "file_path": "middleware/validation.py",
                "change_summary": "Added file validation middleware for image uploads with type, size, dimension checks",
                "name": "Added middleware/validation.py",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "17a00753-1e09-427a-a188-af6e413a2c7b",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 34,
                "file_path": "services/storage.py",
                "change_summary": "Enhanced S3Service with image processing (resize, optimize) before upload",
                "name": "Modified services/storage.py",
                "lines_removed": 5,
                "severity": "low",
                "uuid": "31aefb63-a6c1-4df9-a433-eb80274cc0eb",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 125,
                "file_path": "tests/test_uploads.py",
                "change_summary": "Created comprehensive test suite for profile picture upload feature",
                "name": "Added tests/test_uploads.py",
                "lines_removed": 0,
                "severity": "low",
                "uuid": "12485c69-1240-42c5-a06c-30d4aacdfc2d",
                "change_type": "added",
                "type": "CodeChange"
              },
              {
                "lines_added": 15,
                "file_path": "api/dashboard.py",
                "change_summary": "Added Redis caching for dashboard data with 5-minute TTL to reduce DB load",
                "name": "Modified api/dashboard.py",
                "lines_removed": 3,
                "severity": "medium",
                "uuid": "fe0a2371-316b-46c6-9703-df09c105dafe",
                "change_type": "modified",
                "type": "CodeChange"
              },
              {
                "lines_added": 12,
                "file_path": "database/queries.py",
                "change_summary": "Optimized get_user_projects with select_related and prefetch_related to eliminate N+1 queries",
                "name": "Refactored database/queries.py",
                "lines_removed": 25,
                "severity": "high",
                "uuid": "429027b0-e8fc-47c2-9f6e-6b3ecf468133",
                "change_type": "refactored",
                "type": "CodeChange"
              },
              {
                "lines_added": 8,
                "file_path": "database/migrations/007_add_indexes.sql",
                "change_summary": "Added database indexes on project queries for 10x faster dashboard loading",
                "name": "Added database/migrations/007_add_indexes.sql",
                "lines_removed": 0,
                "severity": "medium",
                "uuid": "963c259a-cff5-4d5a-97ce-d6d320e1157c",
                "change_type": "added",
                "type": "CodeChange"
              }
            ],
            "labels": [
              "Entity"
            ]
          }
        ],
        "search_time": 3.8672869205474854,
        "result_count": 4
      }
    }
  },
  "performance_summary": {
    "rrf": [
      {
        "category": "specific_technical",
        "query": "async await database performance optimization",
        "search_time": 3.015293598175049,
        "result_count": 4,
        "confidence": 0.9
      },
      {
        "category": "specific_technical",
        "query": "SQL injection security vulnerability fix",
        "search_time": 2.36466646194458,
        "result_count": 4,
        "confidence": 0.9
      },
      {
        "category": "specific_technical",
        "query": "React component state management refactoring",
        "search_time": 2.1295502185821533,
        "result_count": 3,
        "confidence": 0.9
      },
      {
        "category": "vague_general",
        "query": "performance issues",
        "search_time": 2.489457607269287,
        "result_count": 4,
        "confidence": 0.9
      },
      {
        "category": "vague_general",
        "query": "database problems",
        "search_time": 2.1060733795166016,
        "result_count": 4,
        "confidence": 0.9
      },
      {
        "category": "vague_general",
        "query": "code improvements",
        "search_time": 3.1736395359039307,
        "result_count": 4,
        "confidence": 0.9
      },
      {
        "category": "vague_general",
        "query": "bug fixes",
        "search_time": 2.5722858905792236,
        "result_count": 5,
        "confidence": 0.9
      },
      {
        "category": "coding_tasks",
        "query": "implement user authentication",
        "search_time": 2.625216484069824,
        "result_count": 3,
        "confidence": 0.9
      },
      {
        "category": "coding_tasks",
        "query": "optimize database queries",
        "search_time": 2.183476209640503,
        "result_count": 5,
        "confidence": 0.9
      },
      {
        "category": "coding_tasks",
        "query": "refactor legacy code",
        "search_time": 3.0477352142333984,
        "result_count": 4,
        "confidence": 0.9
      },
      {
        "category": "coding_tasks",
        "query": "add error handling",
        "search_time": 2.4782848358154297,
        "result_count": 3,
        "confidence": 0.9
      },
      {
        "category": "mixed_keywords",
        "query": "async database refactor performance",
        "search_time": 2.543079376220703,
        "result_count": 4,
        "confidence": 0.9
      },
      {
        "category": "mixed_keywords",
        "query": "security vulnerability authentication",
        "search_time": 2.1379809379577637,
        "result_count": 3,
        "confidence": 0.9
      },
      {
        "category": "mixed_keywords",
        "query": "optimization cache memory",
        "search_time": 3.0868515968322754,
        "result_count": 3,
        "confidence": 0.9
      },
      {
        "category": "mixed_keywords",
        "query": "testing deployment monitoring",
        "search_time": 2.233644485473633,
        "result_count": 4,
        "confidence": 0.9
      }
    ],
    "node_distance": [
      {
        "category": "specific_technical",
        "query": "Python async def function implementation",
        "search_time": 3.7484865188598633,
        "result_count": 4,
        "confidence": 1.0
      }
    ],
    "mmr": [
      {
        "category": "diversity_queries",
        "query": "show me different authentication methods",
        "search_time": 2.786853551864624,
        "result_count": 1,
        "confidence": 1.0
      },
      {
        "category": "diversity_queries",
        "query": "various caching strategies for performance",
        "search_time": 3.156919240951538,
        "result_count": 3,
        "confidence": 1.0
      },
      {
        "category": "diversity_queries",
        "query": "compare different database optimization approaches",
        "search_time": 2.930868625640869,
        "result_count": 5,
        "confidence": 1.0
      }
    ],
    "cross_encoder": [
      {
        "category": "precision_queries",
        "query": "generate exact JWT token validation code",
        "search_time": 4.099952459335327,
        "result_count": 3,
        "confidence": 1.0
      },
      {
        "category": "precision_queries",
        "query": "implement precise error handling for critical functions",
        "search_time": 3.8672869205474854,
        "result_count": 4,
        "confidence": 1.0
      }
    ]
  }
}